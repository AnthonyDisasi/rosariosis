!function(f){f.fn.formNavigation=function(){f(this).each(function(){f(this).find("input").on("keyup",function(n){var i=f(this).closest("td");switch(n.which){case 39:i.next().find("input").focus();break;case 37:i.prev().find("input").focus();break;case 40:f(this).closest("tr").next().children().eq(i.index()).find("input").focus();break;case 38:f(this).closest("tr").prev().children().eq(i.index()).find("input").focus()}}),f(this).find("input").on("keydown",function(n){var i=f(this).closest("td"),t=f(this).closest("tr"),e=f(this).closest("tbody");9!==n.which||n.shiftKey?9===n.which&&n.shiftKey&&(0<t.prev().find("input").length?(n.preventDefault(),t.prev().children().eq(i.index()).find("input").focus()):0<e.find("tr:last").children().eq(i.index()-1).find("input").length&&(n.preventDefault(),e.find("tr:last").children().eq(i.index()-1).find("input").focus())):0<t.next().find("input").length?(n.preventDefault(),t.next().children().eq(i.index()).find("input").focus()):0<e.find("tr:first").children().eq(i.index()+1).find("input").length&&(n.preventDefault(),e.find("tr:first").children().eq(i.index()+1).find("input").focus())})})}}(jQuery);
